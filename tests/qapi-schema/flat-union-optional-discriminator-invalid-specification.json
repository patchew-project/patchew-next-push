# For using optional discriminators, only the field in the base struct
# must be marked optional, not the discriminator name itself
{ 'enum': 'Enum', 'data': [ 'one', 'two' ] }
{ 'struct': 'Base',
  'data': { '*switch': 'Enum' } }
{ 'struct': 'Branch', 'data': { 'name': 'str' } }
{ 'union': 'MyUnion',
  'base': 'Base',
  'discriminator': '*switch',
  'default-variant': 'one',
  'data': { 'one': 'Branch',
            'two': 'Branch' } }
